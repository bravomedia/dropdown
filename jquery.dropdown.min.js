(function(a){a.fn.dropdown=function(c){var b=this;var d=a.extend({action:"hover",hoverClass:"hover",activeClass:"active",animationTime:"slow",touchElement:"a",touchedClass:"touched",itemSelector:"li",dropdownSelector:"ul"},c);
if(d.action==="click"){a(this).find(d.itemSelector).not("."+d.activeClass).find(d.dropdownSelector).slideUp(1,function(){if(d.activatedCallback){d.activatedCallback(b);
}});a(this).find(d.itemSelector).children(d.touchElement).click(function(){a(this).siblings(d.dropdownSelector).slideToggle(d.animationTime,function(){if(d.activeCallback){d.activeCallback(b);
}});});}else{if(d.action==="hover"){a(this).find(d.itemSelector).find(d.dropdownSelector).slideUp(1,function(){if(d.activatedCallback){d.activatedCallback(b);
}});a(this).find(d.itemSelector).hover(function(){clearTimeout(a.data(this,"timer"));a(d.dropdownSelector,this).stop(true,true).slideDown(d.animationTime,function(){if(d.activeCallback){d.activeCallback(b);
}});a(this).addClass(d.hoverClass).children(d.touchElement).removeClass(d.touchedClass);},function(){a.data(this,"timer",setTimeout(a.proxy(function(){a(d.dropdownSelector,this).stop(true,true).slideUp(d.animationTime,function(){if(d.activeCallback){d.activeCallback(b);
}});a(this).removeClass(d.hoverClass).children(d.touchElement).addClass(d.touchedClass);},this),d.animationTime));});}}a("*").bind("tapone",function(g){var f=a("."+d.hoverClass);
if(f.length){if(a(this).parents().hasClass(d.hoverClass)){g.stopPropagation();}else{g.preventDefault();g.stopPropagation();}}if(f.has(g.target).length===0){f.mouseleave();
}});a(d.touchElement).bind("tapone",function(f){if(a(this).hasClass(d.touchedClass)){if(a(this).parent("."+d.hoverClass).length===0){f.preventDefault();
a(this).removeClass(d.touchedClass).parent().mouseenter();}}});return this;};})(jQuery);